func malloc(s: i64) -> i8*;
func free(s: i8*) -> void;
func puts(s: i8*) -> i32;


func to_str(num: i64) -> i8* {
    var a: i8* = malloc(128);
    var index: i64 = 0;
    var str: i8* = "0";
    var zero: i8 = str[0];
    var i: i64 = 0;
    while(i<10) {
        a[i] = zero + i64::to_i8(i);
        i += 1;
    }
    var end: i8 = i64::to_i8(0);
    a[i] = end;
    return a;
}

func main() -> i64 {
    var result: i8* = to_str(114514);
    puts(result);
    free(result);
    puts("  -> from to_str.colgm");
    return 0;
}
